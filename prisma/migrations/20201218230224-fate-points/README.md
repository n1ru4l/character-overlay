# Migration `20201218230224-fate-points`

This migration has been generated by Laurin Quast at 12/19/2020, 12:02:24 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Character" (
    "id" TEXT NOT NULL,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "name" TEXT NOT NULL,
    "imageUrl" TEXT NOT NULL,
    "maximumHealth" INTEGER NOT NULL DEFAULT 30,
    "currentHealth" INTEGER NOT NULL DEFAULT 30,
    "hasMana" BOOLEAN NOT NULL DEFAULT false,
    "maximumMana" INTEGER NOT NULL DEFAULT 30,
    "currentMana" INTEGER NOT NULL DEFAULT 30,
    "editHash" TEXT NOT NULL,
    "hasFatePoints" BOOLEAN NOT NULL DEFAULT false,
    "maximumFatePoints" INTEGER NOT NULL DEFAULT 2,
    "currentFatePoints" INTEGER NOT NULL DEFAULT 2,
    PRIMARY KEY ("id")
);
INSERT INTO "new_Character" ("id", "createdAt", "name", "imageUrl", "maximumHealth", "currentHealth", "hasMana", "maximumMana", "currentMana", "editHash") SELECT "id", "createdAt", "name", "imageUrl", "maximumHealth", "currentHealth", "hasMana", "maximumMana", "currentMana", "editHash" FROM "Character";
DROP TABLE "Character";
ALTER TABLE "new_Character" RENAME TO "Character";
CREATE UNIQUE INDEX "Character.editHash_unique" ON "Character"("editHash");
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201026181917-characters-table..20201218230224-fate-points
--- datamodel.dml
+++ datamodel.dml
@@ -2,23 +2,26 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
 model Character {
-  id            String   @id
-  createdAt     DateTime @default(now())
-  name          String
-  imageUrl      String
-  maximumHealth Int      @default(30)
-  currentHealth Int      @default(30)
-  hasMana       Boolean  @default(false)
-  maximumMana   Int      @default(30)
-  currentMana   Int      @default(30)
-  editHash      String   @unique
+  id                String   @id
+  createdAt         DateTime @default(now())
+  name              String
+  imageUrl          String
+  maximumHealth     Int      @default(30)
+  currentHealth     Int      @default(30)
+  hasMana           Boolean  @default(false)
+  maximumMana       Int      @default(30)
+  currentMana       Int      @default(30)
+  editHash          String   @unique
+  hasFatePoints     Boolean  @default(false)
+  maximumFatePoints Int      @default(2)
+  currentFatePoints Int      @default(2)
 }
```
